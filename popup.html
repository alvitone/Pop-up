(function () { if (window.__POPUP_WIDGET_LOADED__) return;
window.__POPUP_WIDGET_LOADED__ = true; function init() { const { createApp, ref
} = Vue; const container = document.createElement("div"); container.id =
"popup-widget-root"; document.body.appendChild(container); const app =
createApp({ template: `
<Teleport to="body">
  <div
    v-if="isOpen"
    style="
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 99999;
    "
    @click="close"
  >
    <div
      style="
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        width: 90%;
        max-width: 400px;
      "
      @click.stop
    >
      <button
        @click="close"
        style="float: right; font-size: 22px; border: none; background: none"
      >
        Ã—
      </button>

      <h2>{{ title }}</h2>
      <p>{{ message }}</p>

      <button
        @click="close"
        style="
          margin-top: 10px;
          width: 100%;
          padding: 10px;
          background: #007bff;
          color: #fff;
          border: none;
          border-radius: 4px;
        "
      >
        {{ buttonText }}
      </button>
    </div>
  </div>
</Teleport>
`, setup() { const isOpen = ref(false); const title = ref("Popup Title"); const
message = ref("This is a popup"); const buttonText = ref("Got it"); function
open(opts = {}) { title.value = opts.title || title.value; message.value =
opts.message || message.value; buttonText.value = opts.buttonText ||
buttonText.value; isOpen.value = true; } function close() { isOpen.value =
false; } // ðŸ”¥ GLOBAL API window.PopupWidget = { open, close }; return { isOpen,
title, message, buttonText, close }; }, }); app.mount(container); } if (typeof
Vue === "undefined") { const s = document.createElement("script"); s.src =
"https://unpkg.com/vue@3/dist/vue.global.prod.js"; s.onload = init;
document.head.appendChild(s); } else { init(); } })();
